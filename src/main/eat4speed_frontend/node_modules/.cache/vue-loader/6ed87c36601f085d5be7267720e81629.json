{"remainingRequest":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\src\\views\\Kunde\\KundeAnmeldung.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\src\\views\\Kunde\\KundeAnmeldung.vue","mtime":1619872641752},{"path":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mosab\\IdeaProjects\\Eat4Speed\\src\\main\\eat4speed_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsNCmltcG9ydCBQb3B1cCBmcm9tICdAL2NvbXBvbmVudHMvU25hY2tiYXIudnVlJzsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQge2V2ZW50QnVzfSBmcm9tICdAL2V2ZW50L2V2ZW50JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiS3VuZGVBbm1lbGR1bmciLA0KICBjb21wb25lbnRzOiB7DQogICAgcG9wdXA6IFBvcHVwLA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHBhc3N3b3JkTWF0Y2goKSB7DQogICAgICByZXR1cm4gKCkgPT4gdGhpcy5wYXNzd29yZCA9PT0gdGhpcy52ZXJpZnkgfHwgIlBhc3N3b3J0IG11c3Mgw7xiZXJlaW5zdGltbWVuLiI7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQoNCiAgICBhc3luYyBsb2dpbigpIHsNCiAgICAgIHRoaXMuJGh0dHAucG9zdCgnL0xvZ2luL3VzZXInLCB7DQogICAgICAgIGVtYWlsQWRyZXNzZTogdGhpcy5sb2dpbkVtYWlsLA0KICAgICAgICBwYXNzd29ydDogYnRvYSh0aGlzLmxvZ2luUGFzc3dvcmQpDQogICAgICB9KQ0KICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7DQogICAgICAgICAgICAgICAgZW1haWxBZHJlc3NlOiByZXNwb25zZS5kYXRhLmVtYWlsQWRyZXNzZSwNCiAgICAgICAgICAgICAgICBwYXNzd29ydDogcmVzcG9uc2UuZGF0YS5wYXNzd29ydA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2F2ZUxvZ2luRGF0YScsIHBheWxvYWQpOw0KICAgICAgICAgICAgICBldmVudEJ1cy4kZW1pdCgnc2V0TG9naW4nLCBwYXlsb2FkLmVtYWlsQWRyZXNzZSk7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAiU3RhcnRzZWl0ZSJ9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sIChlcnJvcikgPT4gew0KICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIDQwNCcpIHsNCiAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tiYXIoJ0JlbnV0emVybmFtZSBvZGVyIFBhc3N3b3J0IGZhbHNjaCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5vcGVuU25hY2tiYXIoZXJyb3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgIH0sDQogICAgYXN5bmMgdmFsaWRhdGUoKSB7DQoNCiAgICAgIGNvbnNvbGUubG9nKCJ0ZXN0Iik7DQoNCiAgICAgIHZhciBiZW51dHplciA9IHsNCiAgICAgICAgdm9ybmFtZTogdGhpcy5maXJzdE5hbWUsDQogICAgICAgIG5hY2huYW1lOiB0aGlzLmxhc3ROYW1lLA0KICAgICAgICBiZW51dHplcm5hbWU6IHRoaXMudXNlcm5hbWUsDQogICAgICAgIGVtYWlsQWRyZXNzZTogdGhpcy5lbWFpbCwNCiAgICAgICAgcGFzc3dvcnQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIHRlbGVmb25udW1tZXI6IHRoaXMucGhvbmVOdW1iZXIsDQogICAgICAgIHJvbGxlOiAia3VuZGUiLA0KICAgICAgICBwYXlwYWxfQWNjb3VudDogdGhpcy5wYXlwYWwNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IHJlc3BvbnNlQmVudXR6ZXIgPSBhd2FpdCBheGlvcy5wb3N0KCIvQmVudXR6ZXIiLCBiZW51dHplcik7DQoNCiAgICAgIHRoaXMuYmVudXR6ZXJfSUQgPSByZXNwb25zZUJlbnV0emVyLmRhdGEuYmVudXR6ZXJfSUQ7DQoNCiAgICAgIHZhciBiZXN0ZWxsaGlzdG9yaWUgPSB7fTsNCg0KICAgICAgY29uc3QgcmVzcG9uc2VCZXN0ZWxsaGlzdG9yaWUgPSBhd2FpdCBheGlvcy5wb3N0KCIvQmVzdGVsbGhpc3RvcmllL2FkZEJlc3RlbGxoaXN0b3JpZSIsIGJlc3RlbGxoaXN0b3JpZSk7DQoNCiAgICAgIHRoaXMuYmVzdGVsbGhpc3Rvcmllbl9JRCA9IHJlc3BvbnNlQmVzdGVsbGhpc3RvcmllLmRhdGEuYmVzdGVsbGhpc3Rvcmllbl9JRDsNCg0KICAgICAgdmFyIGFkcmVzc2VuID0gew0KICAgICAgICBzdHJhc3NlOiB0aGlzLnN0cmVldCwNCiAgICAgICAgaGF1c251bW1lcjogdGhpcy5ob3VzZU51bWJlciwNCiAgICAgICAgb3J0OiB0aGlzLnBsYWNlLA0KICAgICAgICBwb3N0bGVpdHphaGw6IHRoaXMucG9zdENvZGUNCiAgICAgIH07DQoNCiAgICAgIGNvbnN0IHJlc3BvbnNlQWRyZXNzZW4gPSBhd2FpdCBheGlvcy5wb3N0KCIvQWRyZXNzZW4iLCBhZHJlc3Nlbik7DQoNCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlQWRyZXNzZW4pOw0KICAgICAgY29uc29sZS5sb2cocmVzcG9uc2VBZHJlc3Nlbi5kYXRhKTsNCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlQWRyZXNzZW4uZGF0YS5hZHJlc3NfSUQpOw0KDQogICAgICB0aGlzLmFkcmVzc19JRCA9IHJlc3BvbnNlQWRyZXNzZW4uZGF0YS5hZHJlc3NfSUQ7DQoNCiAgICAgIGxldCBjcmVhdGVkS3VuZGU7DQogICAgICB2YXIga3VuZGUgPSB7DQogICAgICAgIGJlbnV0emVyX0lEOiB0aGlzLmJlbnV0emVyX0lELA0KICAgICAgICBhbnJlZGU6IHRoaXMuc2FsdXRhdGlvbiwNCiAgICAgICAgbmFtZTogdGhpcy5sYXN0TmFtZSwNCiAgICAgICAgdm9ybmFtZTogdGhpcy5maXJzdE5hbWUsDQogICAgICAgIGFuc2NocmlmdDogdGhpcy5hZHJlc3NfSUQsDQogICAgICAgIGJlc3RlbGxoaXN0b3JpZTogdGhpcy5iZXN0ZWxsaGlzdG9yaWVuX0lEDQogICAgICB9Ow0KDQogICAgICBheGlvcy5wb3N0KCIvS3VuZGUiLCBrdW5kZSkNCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICAgIGNyZWF0ZWRLdW5kZS5vdXRwdXQgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgIH0uYmluZCh0aGlzKSkNCg0KICAgICAgaWYgKHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKCkpIHsNCiAgICAgICAgLy8gc3VibWl0IGZvcm0gdG8gc2VydmVyLw0KDQogICAgICB9DQogICAgfSwNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldCgpOw0KICAgIH0sDQogICAgcmVzZXRWYWxpZGF0aW9uKCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpOw0KICAgIH0NCiAgfSwNCiAgb3BlblNuYWNrYmFyKG1lc3NhZ2UpIHsNCiAgICB0aGlzLnBvcHVwRGF0YS5kaXNwbGF5ID0gdHJ1ZTsNCiAgICB0aGlzLnBvcHVwRGF0YS5tZXNzYWdlID0gbWVzc2FnZTsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFiOiAwLA0KICAgICAgdGFiczogWw0KICAgICAgICB7bmFtZTogIkxvZ2luIiwgaWNvbjogIm1kaS1hY2NvdW50In0sDQogICAgICAgIHtuYW1lOiAiUmVnaXN0cmllcmVuIiwgaWNvbjogIm1kaS1hY2NvdW50LW91dGxpbmUifQ0KICAgICAgXSwNCiAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgc2FsdXRhdGlvbjogIiIsDQogICAgICBhZHJlc3NfSUQ6ICIiLA0KICAgICAgYmVudXR6ZXJfSUQ6ICIiLA0KICAgICAgYmVzdGVsbGhpc3Rvcmllbl9JRDogIiIsDQogICAgICBmaXJzdE5hbWU6ICIiLA0KICAgICAgbGFzdE5hbWU6ICIiLA0KICAgICAgc3RyZWV0OiAiIiwNCiAgICAgIGhvdXNlTnVtYmVyOiAiIiwNCiAgICAgIHBsYWNlOiAiIiwNCiAgICAgIHBvc3RDb2RlOiAiIiwNCiAgICAgIGVtYWlsOiAiIiwNCiAgICAgIHBob25lTnVtYmVyOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIHZlcmlmeTogIiIsDQogICAgICBsb2dpblBhc3N3b3JkOiAiIiwNCiAgICAgIGxvZ2luRW1haWw6ICIiLA0KICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgcGF5cGFsOiAiIiwNCiAgICAgIHBvcHVwRGF0YTogew0KICAgICAgICBkaXNwbGF5OiBmYWxzZSwNCiAgICAgICAgbWVzc2FnZTogJycsDQogICAgICB9LA0KICAgICAgbG9naW5FbWFpbFJ1bGVzOiBbDQogICAgICAgIHYgPT4gISF2IHx8ICJSZXF1aXJlZCIsDQogICAgICAgIHYgPT4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAiRS1NYWlsIG11c3MgZ8O8bHRpZyBzZWluIg0KICAgICAgXSwNCiAgICAgIGVtYWlsUnVsZXM6IFsNCiAgICAgICAgdiA9PiAhIXYgfHwgIlJlcXVpcmVkIiwNCiAgICAgICAgdiA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICJFLU1haWwgbXVzcyBnw7xsdGlnIHNlaW4iDQogICAgICBdLA0KICAgICAgc2hvdzE6IGZhbHNlLA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgIlJlcXVpcmVkLiIsDQogICAgICAgIG1pbjogdiA9PiAodiAmJiB2Lmxlbmd0aCA+PSA4KSB8fCAiTWluZGVzdGVucyA4IFplaWNoZW4iDQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["KundeAnmeldung.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"KundeAnmeldung.vue","sourceRoot":"src/views/Kunde","sourcesContent":["<template>\r\n  <v-main>\r\n    <v-container fill-height fluid>\r\n      <v-layout align-center justify-center>\r\n        <v-flex md3 sm6 xs12>\r\n          <v-card>\r\n            <v-tabs v-model=\"tab\" background-color=\"red\" dark grow icons-and-text show-arrows>\r\n              <v-tabs-slider color=\"red\"></v-tabs-slider>\r\n              <v-tab v-for=\"i in tabs\" :key=\"i\">\r\n                <v-icon large>{{ i.icon }}</v-icon>\r\n                <div class=\"caption py-1\">{{ i.name }}</div>\r\n              </v-tab>\r\n              <v-tab-item>\r\n                <v-card class=\"px-4\">\r\n                  <v-card-text>\r\n                    <v-form ref=\"loginForm\" v-model=\"valid\" lazy-validation>\r\n                      <v-row>\r\n                        <v-col cols=\"12\">\r\n                          <v-text-field v-model=\"loginEmail\" :rules=\"loginEmailRules\" label=\"E-Mail\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\">\r\n                          <v-text-field\r\n                              v-model=\"loginPassword\"\r\n                              :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                              :rules=\"[rules.required, rules.min]\"\r\n                              :type=\"show1 ? 'text' : 'password'\"\r\n                              counter\r\n                              hint=\"Mindestens 8 Zeichen\"\r\n                              label=\"Passwort\"\r\n                              name=\"input-10-1\"\r\n                              @click:append=\"show1 = !show1\"\r\n                          ></v-text-field>\r\n                        </v-col>\r\n                        <v-spacer></v-spacer>\r\n                        <v-col class=\"text-right\">\r\n                          <v-btn color=\"red\" dark rounded @click=\"login\">Login</v-btn>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-form>\r\n                  </v-card-text>\r\n                </v-card>\r\n              </v-tab-item>\r\n              <v-tab-item>\r\n                <v-card class=\"px-4\">\r\n                  <v-card-text>\r\n                    <v-form ref=\"registerForm\" v-model=\"valid\" lazy-validation>\r\n                      <v-row>\r\n                        <v-col cols=\"12\" md=\"12\" sm=\"12\">\r\n                          <v-text-field v-model=\"salutation\" :rules=\"[rules.required]\" label=\"Anrede\"\r\n                                        maxlength=\"20\" required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n                          <v-text-field v-model=\"firstName\" :rules=\"[rules.required]\" label=\"Vorname\"\r\n                                        maxlength=\"20\" required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n                          <v-text-field v-model=\"lastName\" :rules=\"[rules.required]\" label=\"Nachname\" maxlength=\"20\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"12\" sm=\"12\">\r\n                          <v-text-field v-model=\"username\" :rules=\"[rules.required]\" label=\"Benutzername\"\r\n                                        maxlength=\"20\" required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"8\" sm=\"8\">\r\n                          <v-text-field v-model=\"street\" :rules=\"[rules.required]\" label=\"Straße\" maxlength=\"40\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n                          <v-text-field v-model=\"houseNumber\" :rules=\"[rules.required]\" label=\"Hausnummer\"\r\n                                        maxlength=\"20\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"8\" sm=\"8\">\r\n                          <v-text-field v-model=\"place\" :rules=\"[rules.required]\" label=\"Ort\" maxlength=\"20\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n                          <v-text-field v-model=\"postCode\" :rules=\"[rules.required]\" label=\"Postleitzahl\"\r\n                                        maxlength=\"20\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"8\" sm=\"8\">\r\n                          <v-text-field v-model=\"email\" :rules=\"emailRules\" label=\"E-Mail\" required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n                          <v-text-field v-model=\"phoneNumber\" :rules=\"[rules.required]\" label=\"Telefonnummer\"\r\n                                        maxlength=\"20\"\r\n                                        required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"12\" sm=\"12\">\r\n                          <v-text-field v-model=\"paypal\" :rules=\"emailRules\" label=\"Paypal Email\"\r\n                                        maxlength=\"20\" required></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\">\r\n                          <v-text-field v-model=\"password\" :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                                        :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'Passwort'\"\r\n                                        counter hint=\"Mindestens 8 Zeichen\" label=\"Passwort\" name=\"input-10-1\"\r\n                                        @click:append=\"show1 = !show1\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\">\r\n                          <v-text-field v-model=\"verify\" :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                                        :rules=\"[rules.required, passwordMatch]\"\r\n                                        :type=\"show1 ? 'text' : 'Passwort'\" block\r\n                                        counter label=\"Passwort bestätigen\" name=\"input-10-1\"\r\n                                        @click:append=\"show1 = !show1\"></v-text-field>\r\n                        </v-col>\r\n                        <v-spacer></v-spacer>\r\n                        <v-col class=\"text-right\">\r\n                          <v-btn color=\"red\" dark rounded @click=\"validate\">Register</v-btn>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-form>\r\n                  </v-card-text>\r\n                </v-card>\r\n              </v-tab-item>\r\n            </v-tabs>\r\n          </v-card>\r\n        </v-flex>\r\n      </v-layout>\r\n      <popup :popupData=\"popupData\"></popup>\r\n    </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nimport Popup from '@/components/Snackbar.vue';\r\nimport axios from \"axios\";\r\nimport {eventBus} from '@/event/event';\r\n\r\nexport default {\r\n  name: \"KundeAnmeldung\",\r\n  components: {\r\n    popup: Popup,\r\n  },\r\n  computed: {\r\n    passwordMatch() {\r\n      return () => this.password === this.verify || \"Passwort muss übereinstimmen.\";\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    async login() {\r\n      this.$http.post('/Login/user', {\r\n        emailAdresse: this.loginEmail,\r\n        passwort: btoa(this.loginPassword)\r\n      })\r\n          .then((response) => {\r\n            if (response.status === 200) {\r\n              const payload = {\r\n                emailAdresse: response.data.emailAdresse,\r\n                passwort: response.data.passwort\r\n              }\r\n              this.$store.commit('saveLoginData', payload);\r\n              eventBus.$emit('setLogin', payload.emailAdresse);\r\n              this.$router.push({name: \"Startseite\"})\r\n            }\r\n          }, (error) => {\r\n            if (error.message === 'Request failed with status code 404') {\r\n              this.openSnackbar('Benutzername oder Passwort falsch');\r\n            } else {\r\n              this.openSnackbar(error);\r\n            }\r\n          });\r\n    },\r\n    async validate() {\r\n\r\n      console.log(\"test\");\r\n\r\n      var benutzer = {\r\n        vorname: this.firstName,\r\n        nachname: this.lastName,\r\n        benutzername: this.username,\r\n        emailAdresse: this.email,\r\n        passwort: this.password,\r\n        telefonnummer: this.phoneNumber,\r\n        rolle: \"kunde\",\r\n        paypal_Account: this.paypal\r\n      };\r\n\r\n      const responseBenutzer = await axios.post(\"/Benutzer\", benutzer);\r\n\r\n      this.benutzer_ID = responseBenutzer.data.benutzer_ID;\r\n\r\n      var bestellhistorie = {};\r\n\r\n      const responseBestellhistorie = await axios.post(\"/Bestellhistorie/addBestellhistorie\", bestellhistorie);\r\n\r\n      this.bestellhistorien_ID = responseBestellhistorie.data.bestellhistorien_ID;\r\n\r\n      var adressen = {\r\n        strasse: this.street,\r\n        hausnummer: this.houseNumber,\r\n        ort: this.place,\r\n        postleitzahl: this.postCode\r\n      };\r\n\r\n      const responseAdressen = await axios.post(\"/Adressen\", adressen);\r\n\r\n      console.log(responseAdressen);\r\n      console.log(responseAdressen.data);\r\n      console.log(responseAdressen.data.adress_ID);\r\n\r\n      this.adress_ID = responseAdressen.data.adress_ID;\r\n\r\n      let createdKunde;\r\n      var kunde = {\r\n        benutzer_ID: this.benutzer_ID,\r\n        anrede: this.salutation,\r\n        name: this.lastName,\r\n        vorname: this.firstName,\r\n        anschrift: this.adress_ID,\r\n        bestellhistorie: this.bestellhistorien_ID\r\n      };\r\n\r\n      axios.post(\"/Kunde\", kunde)\r\n          .then(function (response) {\r\n            createdKunde.output = response.data;\r\n          }.bind(this))\r\n\r\n      if (this.$refs.loginForm.validate()) {\r\n        // submit form to server/\r\n\r\n      }\r\n    },\r\n    reset() {\r\n      this.$refs.form.reset();\r\n    },\r\n    resetValidation() {\r\n      this.$refs.form.resetValidation();\r\n    }\r\n  },\r\n  openSnackbar(message) {\r\n    this.popupData.display = true;\r\n    this.popupData.message = message;\r\n  },\r\n  data() {\r\n    return {\r\n      tab: 0,\r\n      tabs: [\r\n        {name: \"Login\", icon: \"mdi-account\"},\r\n        {name: \"Registrieren\", icon: \"mdi-account-outline\"}\r\n      ],\r\n      valid: true,\r\n      salutation: \"\",\r\n      adress_ID: \"\",\r\n      benutzer_ID: \"\",\r\n      bestellhistorien_ID: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      street: \"\",\r\n      houseNumber: \"\",\r\n      place: \"\",\r\n      postCode: \"\",\r\n      email: \"\",\r\n      phoneNumber: \"\",\r\n      password: \"\",\r\n      verify: \"\",\r\n      loginPassword: \"\",\r\n      loginEmail: \"\",\r\n      username: \"\",\r\n      paypal: \"\",\r\n      popupData: {\r\n        display: false,\r\n        message: '',\r\n      },\r\n      loginEmailRules: [\r\n        v => !!v || \"Required\",\r\n        v => /.+@.+\\..+/.test(v) || \"E-Mail muss gültig sein\"\r\n      ],\r\n      emailRules: [\r\n        v => !!v || \"Required\",\r\n        v => /.+@.+\\..+/.test(v) || \"E-Mail muss gültig sein\"\r\n      ],\r\n      show1: false,\r\n      rules: {\r\n        required: value => !!value || \"Required.\",\r\n        min: v => (v && v.length >= 8) || \"Mindestens 8 Zeichen\"\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>"]}]}